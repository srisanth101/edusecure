<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KV Malkapuram - Educational Portal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #1e3a8a;
            --primary-light: #3b82f6;
            --primary-dark: #1e40af;
            --secondary: #64748b;
            --accent: #60a5fa;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --background: #ffffff;
            --card-bg: #f8fafc;
            --text: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --radius: 12px;
            --radius-full: 50%;
        }

        [data-theme="dark"] {
            --primary: #1e3a8a;
            --primary-light: #3b82f6;
            --primary-dark: #1e40af;
            --secondary: #64748b;
            --accent: #60a5fa;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --background: #0f172a;
            --card-bg: #1e293b;
            --text: #f1f5f9;
            --text-muted: #94a3b8;
            --border: #334155;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
        }

        body {
            background: var(--background);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            width: 100%;
        }

        /* Onboarding Styles */
        .onboarding {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
        }

        .onboarding-step {
            display: none;
            max-width: 600px;
            width: 100%;
            animation: fadeIn 0.5s ease;
        }

        .onboarding-step.active {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .onboarding-image {
            width: 300px;
            height: 300px;
            border-radius: var(--radius);
            margin-bottom: 30px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 3px solid var(--primary-light);
        }

        .onboarding-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .onboarding-content {
            margin-bottom: 30px;
        }

        .onboarding-content h2 {
            font-size: 28px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .typing-text {
            font-size: 18px;
            color: var(--text-muted);
            line-height: 1.6;
            min-height: 60px;
            margin-bottom: 20px;
        }

        .typing-cursor {
            display: inline-block;
            width: 3px;
            height: 1em;
            background-color: var(--primary);
            margin-left: 2px;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        .onboarding-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 24px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: var(--secondary);
        }

        .btn-secondary:hover {
            background: #475569;
        }

        .btn-success {
            background: var(--success);
        }

        .btn-success:hover {
            background: #0da271;
        }

        .theme-selection {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .theme-option {
            padding: 20px;
            background: var(--card-bg);
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid var(--border);
            text-align: center;
            flex: 1;
        }

        .theme-option:hover {
            transform: translateY(-5px);
            border-color: var(--primary-light);
        }

        .theme-option.selected {
            border-color: var(--primary);
            background: var(--primary);
            color: white;
        }

        .theme-icon {
            font-size: 40px;
            margin-bottom: 10px;
        }

        /* Portal Styles */
        .portal-container {
            display: none;
        }

        .portal-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        header {
            text-align: center;
            padding: 30px 0;
            position: relative;
        }

        .theme-switch {
            position: absolute;
            top: 20px;
            right: 20px;
        }

        .theme-toggle {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 8px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text);
            font-weight: 500;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
        }

        .logo {
            width: 100px;
            height: 100px;
            border-radius: var(--radius-full);
            margin: 0 auto 20px;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
            overflow: hidden;
            border: 3px solid var(--accent);
        }

        .logo img {
            width: 80%;
            height: 80%;
            border-radius: var(--radius-full);
            object-fit: cover;
        }

        h1 {
            font-size: 34px;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--primary-light), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .subtitle {
            font-size: 17px;
            color: var(--text-muted);
            margin-bottom: 40px;
        }

        .portal-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .portal-card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 30px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            border: 1px solid var(--border);
        }

        .portal-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
            border-color: var(--primary-light);
        }

        .portal-icon {
            width: 80px;
            height: 80px;
            border-radius: var(--radius);
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            color: white;
        }

        .portal-card h2 {
            font-size: 22px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .portal-card p {
            color: var(--text-muted);
            font-size: 16px;
            line-height: 1.5;
        }

        .login-form {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            max-width: 500px;
            margin: 0 auto;
            display: none;
            border: 1px solid var(--border);
        }

        .login-form.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 17px;
        }

        .form-control {
            width: 100%;
            padding: 16px;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text);
            font-size: 17px;
            transition: all 0.2s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-light);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .btn-block {
            width: 100%;
        }

        .back-btn {
            margin-top: 15px;
        }

        .dashboard {
            display: none;
        }

        .dashboard.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: var(--radius-full);
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
            overflow: hidden;
        }

        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .user-details h3 {
            font-size: 22px;
            margin-bottom: 5px;
        }

        .user-details p {
            color: var(--text-muted);
            font-size: 16px;
        }

        .footer {
            text-align: center;
            padding: 30px;
            margin-top: 40px;
            color: var(--text-muted);
            font-size: 15px;
            border-top: 1px solid var(--border);
        }

        /* Progress indicator */
        .progress-indicator {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 30px;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--border);
            transition: all 0.3s ease;
        }

        .progress-dot.active {
            background: var(--primary);
            transform: scale(1.2);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .onboarding-image {
                width: 250px;
                height: 250px;
            }
            
            .portal-selection {
                grid-template-columns: 1fr;
            }
            
            .theme-selection {
                flex-direction: column;
            }
            
            .onboarding-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Onboarding Steps -->
    <div class="onboarding" id="onboarding">
        <!-- Step 1: Welcome -->
        <div class="onboarding-step active" id="step1">
            <div class="onboarding-image">
                <img src="https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Welcome to KV Malkapuram">
            </div>
            <div class="onboarding-content">
                <h2>Welcome to KV Malkapuram</h2>
                <div class="typing-text" id="typingText1"></div>
            </div>
            <div class="onboarding-buttons">
                <button class="btn btn-secondary" id="skipOnboarding">Skip</button>
                <button class="btn" id="nextStep1">Next</button>
            </div>
            <div class="progress-indicator">
                <div class="progress-dot active"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
            </div>
        </div>

        <!-- Step 2: Create Profile -->
        <div class="onboarding-step" id="step2">
            <div class="onboarding-image">
                <img src="https://images.unsplash.com/photo-1531482615713-2afd69097998?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Create Profile">
            </div>
            <div class="onboarding-content">
                <h2>Create Your Profile</h2>
                <div class="typing-text" id="typingText2"></div>
            </div>
            <div class="onboarding-buttons">
                <button class="btn btn-secondary" id="prevStep2">Previous</button>
                <button class="btn" id="nextStep2">Next</button>
            </div>
            <div class="progress-indicator">
                <div class="progress-dot"></div>
                <div class="progress-dot active"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
            </div>
        </div>

        <!-- Step 3: KVMLK -->
        <div class="onboarding-step" id="step3">
            <div class="onboarding-image">
                <img src="https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="KVMLK">
            </div>
            <div class="onboarding-content">
                <h2>KVMLK - Our Identity</h2>
                <div class="typing-text" id="typingText3"></div>
            </div>
            <div class="onboarding-buttons">
                <button class="btn btn-secondary" id="prevStep3">Previous</button>
                <button class="btn" id="nextStep3">Next</button>
            </div>
            <div class="progress-indicator">
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot active"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
            </div>
        </div>

        <!-- Step 4: Features -->
        <div class="onboarding-step" id="step4">
            <div class="onboarding-image">
                <img src="https://images.unsplash.com/photo-1541336032412-2048a678540d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80" alt="Features">
            </div>
            <div class="onboarding-content">
                <h2>Explore Features</h2>
                <div class="typing-text" id="typingText4"></div>
            </div>
            <div class="onboarding-buttons">
                <button class="btn btn-secondary" id="prevStep4">Previous</button>
                <button class="btn" id="nextStep4">Next</button>
            </div>
            <div class="progress-indicator">
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot active"></div>
                <div class="progress-dot"></div>
            </div>
        </div>

        <!-- Step 5: Theme Selection -->
        <div class="onboarding-step" id="step5">
            <div class="onboarding-image">
                <img src="https://images.unsplash.com/photo-1558655146-d09347e92766?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1064&q=80" alt="Choose Theme">
            </div>
            <div class="onboarding-content">
                <h2>Choose Your Theme</h2>
                <div class="typing-text" id="typingText5"></div>
                
                <div class="theme-selection">
                    <div class="theme-option" data-theme="light">
                        <div class="theme-icon">
                            <i class="fas fa-sun"></i>
                        </div>
                        <h3>Light Mode</h3>
                        <p>Clean and bright interface</p>
                    </div>
                    <div class="theme-option" data-theme="dark">
                        <div class="theme-icon">
                            <i class="fas fa-moon"></i>
                        </div>
                        <h3>Dark Mode</h3>
                        <p>Easy on the eyes</p>
                    </div>
                </div>
            </div>
            <div class="onboarding-buttons">
                <button class="btn btn-secondary" id="prevStep5">Previous</button>
                <button class="btn btn-success" id="completeOnboarding">Get Started</button>
            </div>
            <div class="progress-indicator">
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot active"></div>
            </div>
        </div>
    </div>

    <!-- Main Portal -->
    <div class="portal-container" id="portalContainer">
        <div class="container">
            <header>
                <div class="theme-switch">
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
                <div class="logo">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Kendriya_Vidyalaya_logo.svg/1200px-Kendriya_Vidyalaya_logo.svg.png" alt="KV Malkapuram Logo">
                </div>
                <h1>Kendriya Vidyalaya Malkapuram</h1>
                <p class="subtitle">Connect, Learn, and Grow Together</p>
            </header>

            <!-- Portal Selection -->
            <div class="portal-selection" id="portalSelection">
                <div class="portal-card" id="teacherPortalBtn">
                    <div class="portal-icon">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <h2>Teacher Portal</h2>
                    <p>Manage students, assign homework, and send important messages</p>
                </div>
                <div class="portal-card" id="studentPortalBtn">
                    <div class="portal-icon">
                        <i class="fas fa-user-graduate"></i>
                    </div>
                    <h2>Student Portal</h2>
                    <p>Access your homework, messages, and learning resources</p>
                </div>
            </div>

            <!-- Teacher Login -->
            <div class="login-form" id="teacherLogin">
                <h2 style="margin-bottom: 20px; text-align: center;">Teacher Login</h2>
                <div class="form-group">
                    <label for="teacherSection">Select Section</label>
                    <select id="teacherSection" class="form-control">
                        <option value="">-- Select Section --</option>
                        <option value="primary">Primary</option>
                        <option value="secondary">Secondary</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="teacherSelect">Select Teacher</label>
                    <select id="teacherSelect" class="form-control">
                        <option value="">-- Select Teacher --</option>
                        <!-- Teachers will be populated dynamically -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="teacherPassword">Password</label>
                    <input type="password" id="teacherPassword" class="form-control" placeholder="Enter password">
                </div>
                <button class="btn btn-block" id="teacherLoginBtn">Login</button>
                <button class="btn btn-secondary btn-block back-btn" id="backFromTeacherLogin">Back</button>
            </div>

            <!-- Student Login -->
            <div class="login-form" id="studentLogin">
                <h2 style="margin-bottom: 20px; text-align: center;">Student Login</h2>
                <div class="form-group">
                    <label for="studentSelect">Select Student</label>
                    <select id="studentSelect" class="form-control">
                        <option value="">-- Select Student --</option>
                        <!-- Students will be populated dynamically -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="studentPassword">Password</label>
                    <input type="password" id="studentPassword" class="form-control" placeholder="Enter password">
                </div>
                <button class="btn btn-block" id="studentLoginBtn">Login</button>
                <button class="btn btn-secondary btn-block back-btn" id="backFromStudentLogin">Back</button>
            </div>

            <div class="footer">
                <p>Kendriya Vidyalaya Malkapuram &copy; 2023. All rights reserved.</p>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const onboarding = document.getElementById('onboarding');
        const portalContainer = document.getElementById('portalContainer');
        
        // Onboarding steps
        const step1 = document.getElementById('step1');
        const step2 = document.getElementById('step2');
        const step3 = document.getElementById('step3');
        const step4 = document.getElementById('step4');
        const step5 = document.getElementById('step5');
        
        // Onboarding buttons
        const skipOnboarding = document.getElementById('skipOnboarding');
        const nextStep1 = document.getElementById('nextStep1');
        const prevStep2 = document.getElementById('prevStep2');
        const nextStep2 = document.getElementById('nextStep2');
        const prevStep3 = document.getElementById('prevStep3');
        const nextStep3 = document.getElementById('nextStep3');
        const prevStep4 = document.getElementById('prevStep4');
        const nextStep4 = document.getElementById('nextStep4');
        const prevStep5 = document.getElementById('prevStep5');
        const completeOnboarding = document.getElementById('completeOnboarding');
        
        // Typing text elements
        const typingText1 = document.getElementById('typingText1');
        const typingText2 = document.getElementById('typingText2');
        const typingText3 = document.getElementById('typingText3');
        const typingText4 = document.getElementById('typingText4');
        const typingText5 = document.getElementById('typingText5');
        
        // Theme selection
        const themeOptions = document.querySelectorAll('.theme-option');
        
        // Portal elements
        const themeToggle = document.getElementById('themeToggle');
        const teacherPortalBtn = document.getElementById('teacherPortalBtn');
        const studentPortalBtn = document.getElementById('studentPortalBtn');
        const teacherLogin = document.getElementById('teacherLogin');
        const studentLogin = document.getElementById('studentLogin');
        const backFromTeacherLogin = document.getElementById('backFromTeacherLogin');
        const backFromStudentLogin = document.getElementById('backFromStudentLogin');
        const teacherLoginBtn = document.getElementById('teacherLoginBtn');
        const studentLoginBtn = document.getElementById('studentLoginBtn');
        const teacherSection = document.getElementById('teacherSection');
        const teacherSelect = document.getElementById('teacherSelect');
        const studentSelect = document.getElementById('studentSelect');
        
        // Text content for each step
        const stepTexts = [
            "Welcome to Kendriya Vidyalaya Malkapuram's Educational Portal. We're excited to have you here! This platform will help teachers and students connect, share resources, and enhance the learning experience.",
            "Let's create your profile. Whether you're a teacher or student, you'll have access to personalized features that make teaching and learning more effective and engaging.",
            "KVMLK stands for Kendriya Vidyalaya Malkapuram - our identity and commitment to excellence in education. We follow the CBSE curriculum with a focus on holistic development.",
            "Explore our features: Homework assignment, messaging system, resource sharing, and more. Everything you need for a seamless educational experience is right here.",
            "Choose your preferred theme. You can always change this later from the portal settings. Select the one that suits your visual preference best."
        ];
        
        // Teachers data
        const teachers = {
            primary: [
                { id: 'srinivas', name: 'Srinivas', subject: 'Primary Teacher', password: 'kvmlk' },
                { id: 'srikanth', name: 'Srikanth', subject: 'Primary Teacher', password: 'kvmlk' }
            ],
            secondary: [
                { id: 'narasinga', name: 'Narasinga Rao', subject: 'Chemistry', password: 'kvmlk' },
                { id: 'vara', name: 'Vara Kumar', subject: 'Physics', password: 'kvmlk' }
            ]
        };
        
        // Sample students data
        let students = [
            { id: 1, name: "Rahul Sharma", class: "10A", password: "student123" },
            { id: 2, name: "Priya Patel", class: "10A", password: "student123" },
            { id: 3, name: "Amit Kumar", class: "10A", password: "student123" }
        ];
        
        // Current step
        let currentStep = 1;
        
        // Typing animation function
        function typeText(element, text, speed = 30) {
            return new Promise(resolve => {
                element.innerHTML = '';
                let i = 0;
                
                function typeChar() {
                    if (i < text.length) {
                        element.innerHTML += text.charAt(i);
                        i++;
                        setTimeout(typeChar, speed);
                    } else {
                        // Add blinking cursor at the end
                        const cursor = document.createElement('span');
                        cursor.className = 'typing-cursor';
                        element.appendChild(cursor);
                        resolve();
                    }
                }
                
                typeChar();
            });
        }
        
        // Update progress indicators
        function updateProgressIndicators() {
            const dots = document.querySelectorAll('.progress-dot');
            dots.forEach((dot, index) => {
                if (index + 1 === currentStep) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
        
        // Show step function
        function showStep(stepNumber) {
            // Hide all steps
            document.querySelectorAll('.onboarding-step').forEach(step => {
                step.classList.remove('active');
            });
            
            // Show the current step
            document.getElementById(`step${stepNumber}`).classList.add('active');
            
            // Update current step
            currentStep = stepNumber;
            
            // Update progress indicators
            updateProgressIndicators();
            
            // Type the text for this step
            const textElement = document.getElementById(`typingText${stepNumber}`);
            typeText(textElement, stepTexts[stepNumber - 1]);
        }
        
        // Initialize onboarding
        function initializeOnboarding() {
            // Check if user has completed onboarding before
            const hasCompletedOnboarding = localStorage.getItem('hasCompletedOnboarding');
            
            if (hasCompletedOnboarding) {
                // Skip onboarding if already completed
                onboarding.style.display = 'none';
                portalContainer.classList.add('active');
                
                // Apply saved theme
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'dark') {
                    document.body.setAttribute('data-theme', 'dark');
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                }
            } else {
                // Start with step 1
                showStep(1);
            }
        }
        
        // Theme selection
        themeOptions.forEach(option => {
            option.addEventListener('click', () => {
                // Remove selected class from all options
                themeOptions.forEach(opt => opt.classList.remove('selected'));
                
                // Add selected class to clicked option
                option.classList.add('selected');
                
                // Apply the selected theme
                const selectedTheme = option.getAttribute('data-theme');
                document.body.setAttribute('data-theme', selectedTheme);
                
                // Update theme toggle button
                if (selectedTheme === 'dark') {
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                } else {
                    themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                }
                
                // Save theme preference
                localStorage.setItem('theme', selectedTheme);
            });
        });
        
        // Theme toggle in portal
        themeToggle.addEventListener('click', () => {
            const isDark = document.body.getAttribute('data-theme') === 'dark';
            if (isDark) {
                document.body.removeAttribute('data-theme');
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                localStorage.setItem('theme', 'light');
            } else {
                document.body.setAttribute('data-theme', 'dark');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                localStorage.setItem('theme', 'dark');
            }
        });
        
        // Onboarding navigation
        skipOnboarding.addEventListener('click', () => {
            completeOnboardingProcess();
        });
        
        nextStep1.addEventListener('click', () => {
            showStep(2);
        });
        
        prevStep2.addEventListener('click', () => {
            showStep(1);
        });
        
        nextStep2.addEventListener('click', () => {
            showStep(3);
        });
        
        prevStep3.addEventListener('click', () => {
            showStep(2);
        });
        
        nextStep3.addEventListener('click', () => {
            showStep(4);
        });
        
        prevStep4.addEventListener('click', () => {
            showStep(3);
        });
        
        nextStep4.addEventListener('click', () => {
            showStep(5);
        });
        
        prevStep5.addEventListener('click', () => {
            showStep(4);
        });
        
        completeOnboarding.addEventListener('click', () => {
            completeOnboardingProcess();
        });
        
        // Complete onboarding process
        function completeOnboardingProcess() {
            // Mark onboarding as completed
            localStorage.setItem('hasCompletedOnboarding', 'true');
            
            // Hide onboarding and show portal
            onboarding.style.display = 'none';
            portalContainer.classList.add('active');
        }
        
        // Populate teacher dropdown based on section
        function populateTeacherDropdown() {
            teacherSelect.innerHTML = '<option value="">-- Select Teacher --</option>';
            const section = teacherSection.value;
            
            if (section && teachers[section]) {
                teachers[section].forEach(teacher => {
                    const option = document.createElement('option');
                    option.value = teacher.id;
                    option.textContent = `${teacher.name} (${teacher.subject})`;
                    teacherSelect.appendChild(option);
                });
            }
        }
        
        // Populate student dropdown
        function populateStudentDropdown() {
            studentSelect.innerHTML = '<option value="">-- Select Student --</option>';
            students.forEach(student => {
                const option = document.createElement('option');
                option.value = student.id;
                option.textContent = `${student.name} (Class ${student.class})`;
                studentSelect.appendChild(option);
            });
        }
        
        // Portal navigation
        teacherPortalBtn.addEventListener('click', () => {
            document.getElementById('portalSelection').style.display = 'none';
            teacherLogin.classList.add('active');
            populateTeacherDropdown();
        });
        
        studentPortalBtn.addEventListener('click', () => {
            document.getElementById('portalSelection').style.display = 'none';
            studentLogin.classList.add('active');
            populateStudentDropdown();
        });
        
        backFromTeacherLogin.addEventListener('click', () => {
            teacherLogin.classList.remove('active');
            document.getElementById('portalSelection').style.display = 'grid';
        });
        
        backFromStudentLogin.addEventListener('click', () => {
            studentLogin.classList.remove('active');
            document.getElementById('portalSelection').style.display = 'grid';
        });
        
        teacherSection.addEventListener('change', populateTeacherDropdown);
        
        teacherLoginBtn.addEventListener('click', () => {
            const password = document.getElementById('teacherPassword').value;
            const selectedTeacherId = teacherSelect.value;
            const section = teacherSection.value;
            
            if (!section) {
                alert('Please select a section first.');
                return;
            }
            
            const teacher = teachers[section].find(t => t.id === selectedTeacherId);
            
            if (password === teacher.password && selectedTeacherId) {
                alert(`Welcome, ${teacher.name}! Teacher dashboard would open here.`);
                // In a real app, you would redirect to the teacher dashboard
            } else {
                alert('Please select a teacher and enter correct password.');
            }
        });
        
        studentLoginBtn.addEventListener('click', () => {
            const password = document.getElementById('studentPassword').value;
            const selectedStudentId = studentSelect.value;
            
            if (!selectedStudentId) {
                alert('Please select a student first.');
                return;
            }
            
            const student = students.find(s => s.id == selectedStudentId);
            
            if (password === student.password) {
                alert(`Welcome, ${student.name}! Student dashboard would open here.`);
                // In a real app, you would redirect to the student dashboard
            } else {
                alert('Please enter correct password.');
            }
        });
        
        // Initialize the application
        window.addEventListener('load', initializeOnboarding);
    </script>
</body>
</html>
